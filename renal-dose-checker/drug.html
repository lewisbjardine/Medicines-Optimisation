<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Renal Dose Calculator – Drug Information</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Shared global styles -->
  <link rel="stylesheet" href="../shared/styles.css" />

  <style>
    /* Match the aesthetic of the original version you liked */

    .renal-app {
      max-width: 960px;
      margin: 0 auto;
      padding: 1rem;
    }

    .card {
      background: #ffffff;
      border-radius: 0.75rem;
      padding: 1rem 1.25rem;
      margin-top: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .pill {
      display: inline-flex;
      align-items: center;
      padding: 0.15rem 0.55rem;
      border-radius: 999px;
      font-size: 0.75rem;
      background: #e0f2fe;
      color: #075985;
      margin-right: 0.25rem;
      margin-bottom: 0.25rem;
    }

    .renal-bands {
      list-style: none;
      padding: 0;
      margin: 0.5rem 0 0;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .renal-band {
      border-radius: 0.5rem;
      border: 1px solid #e5e7eb;
      padding: 0.5rem 0.6rem;
      background: #f9fafb;
    }

    .renal-band-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 0.25rem;
      gap: 0.5rem;
    }

    .renal-band-label {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .renal-band-category {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      opacity: 0.8;
    }

    .renal-band-body {
      font-size: 0.85rem;
    }

    /* Highlight selected eGFR band */
    .renal-band.highlight {
      border-color: #0f766e;
      background: #ecfdf5;
      box-shadow: 0 0 0 1px rgba(15,118,110,0.2);
    }

    .renal-band.highlight .renal-band-label::before {
      content: "Recommended for current eGFR • ";
      font-weight: 600;
      color: #0f766e;
    }

    .egfr-summary {
      font-size: 0.85rem;
      margin-top: 0.25rem;
      opacity: 0.9;
    }

    .refs-note {
      font-size: 0.8rem;
      opacity: 0.8;
      margin-top: 0.75rem;
    }

    .btn-secondary {
      background: #e2e8f0;
      color: #111827;
      padding: 0.5rem 0.9rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font: inherit;
    }

    .btn-secondary:hover {
      background: #cbd5f0;
    }
  </style>
</head>

<body>
  <div class="renal-app">

    <!-- DRUG DETAIL VIEW -->
    <section id="drug-view" class="card" aria-live="polite">

      <button id="back-button" class="btn-secondary" type="button">
        ← Back to search
      </button>

      <header style="margin-top:0.75rem;">
        <h2 id="drug-name"></h2>
        <p id="drug-class" class="help-text"></p>
        <div id="drug-tags" class="chips-row"></div>
      </header>

      <section style="margin-top:0.75rem;">
        <h3>Usual dosing (normal renal function)</h3>
        <p id="drug-usual-dose" class="help-text"></p>
      </section>

      <section style="margin-top:0.75rem;">
        <h3>Renal dosing bands</h3>
        <p id="egfr-summary" class="egfr-summary"></p>
        <ul id="renal-bands" class="renal-bands"></ul>
      </section>

      <section style="margin-top:0.75rem;">
        <h3>Monitoring, cautions &amp; notes</h3>
        <ul id="drug-notes" class="help-text"></ul>
      </section>

      <p class="refs-note">
        Check dose against: <strong>BNF renal impairment</strong>, individual
        <strong>SPC</strong>, <strong>SPS</strong>, the <strong>Renal Drug Handbook</strong>,
        and local formulary or renal team advice.
      </p>
    </section>
  </div>

  <!-- Load the detail-page logic -->
  <script src="./drug_page.js"></script>
</body>
</html>
